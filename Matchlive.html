<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Adel TV – Coupe d'Arabie 2025</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    background-color: #0a0a0a;
    color: white;
  }

  header {
    background-color: #111;
    padding: 15px;
    text-align: center;
    font-size: 24px;
    font-weight: bold;
    border-bottom: 2px solid #222;
  }

  .container {
    display: flex;
    height: calc(100vh - 70px);
  }

  .sidebar {
    width: 260px;
    background-color: #111;
    border-right: 2px solid #222;
    overflow-y: auto;
    padding: 10px;
  }

  .channel {
    padding: 12px;
    margin-bottom: 8px;
    background: #1a1a1a;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
  }
  .channel:hover {
    background: #2a2a2a;
    border-left: 4px solid #00b3ff;
  }

  .player-area {
    flex: 1;
    background-color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
  }

  video, iframe {
    width: 100%;
    height: 100%;
    border: none;
    background: black;
    object-fit: contain;
  }

  @media (max-width: 768px) {
    .container {
      flex-direction: column;
      height: auto;
    }
    .sidebar {
      width: 100%;
      max-height: 200px;
    }
    .player-area {
      height: calc(100vh - 280px);
    }
  }
</style>
</head>
<body>

<header>Adel TV – Coupe d'Arabie 2025</header>

<div class="container">
  <div class="sidebar" id="sidebar">
    <!-- Liste des chaînes -->
  </div>
  <div class="player-area" id="player-area">
    <video id="video" controls autoplay playsinline webkit-playsinline style="display:none;"></video>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
  const channels = [
    {
      name: "Tunisie - Syria (SD)",
      iframe: "https://pl.yalashoot.xyz/albaplayer/kuwait-sport/?serv=1"
    },
    {
      name: "Tunisie - Syria (HD)",
      iframe: "https://pl.yalashoot.xyz/albaplayer/kuwait-sport/?serv=2"
    },
  
    }
    // Tu peux ajouter tes propres chaînes ici
    // Exemple M3U8 : { name: "Ma Chaîne", url: "https://exemple.com/stream.m3u8" }
    // Exemple XPOLA : { name: "XPOLA", url: "intent://..." }
  ];

  const sidebar = document.getElementById("sidebar");
  const playerArea = document.getElementById("player-area");
  const video = document.getElementById("video");

  function loadChannels() {
    sidebar.innerHTML = "";
    channels.forEach(ch => {
      const div = document.createElement("div");
      div.className = "channel";
      div.textContent = ch.name;
      div.onclick = () => playStream(ch);
      sidebar.appendChild(div);
    });
  }

  function playIframe(url) {
    video.style.display = "none";
    const oldFrame = document.getElementById("streamFrameInjected");
    if (oldFrame) oldFrame.remove();
    const iframe = document.createElement("iframe");
    iframe.id = "streamFrameInjected";
    iframe.src = url;
    iframe.allow = "autoplay; encrypted-media";
    iframe.allowFullscreen = true;
    playerArea.appendChild(iframe);
  }

  function playStream(ch) {
    if (ch.iframe) {
      playIframe(ch.iframe);
      return;
    }
    if (ch.url && ch.url.startsWith("intent://")) {
      video.style.display = "none";
      const oldFrame = document.getElementById("streamFrameInjected");
      if (oldFrame) oldFrame.remove();
      alert("XPOLA URL: " + ch.url);
      return;
    }
    if (ch.url) {
      const oldFrame = document.getElementById("streamFrameInjected");
      if (oldFrame) oldFrame.remove();
      video.style.display = "block";
      if (window.Hls && Hls.isSupported()) {
        if (window.hls) window.hls.destroy();
        window.hls = new Hls();
        window.hls.loadSource(ch.url);
        window.hls.attachMedia(video);
        video.play();
      } else {
        video.src = ch.url;
        video.play();
      }
    }
  }

  loadChannels();
</script>

</body>
</html>
