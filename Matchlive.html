<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adel TV</title>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

<style>
  :root{
    --bg:#071022;
    --card:#0b1220;
    --accent:#06b6d4;
    --muted:#9aa6b2
  }
  body{
    margin:0;
    font-family:Arial, sans-serif;
    background:var(--bg);
    color:#e6eef6;
    display:flex;
    justify-content:center;
    padding:20px;
  }
  .container{
    max-width:1000px;
    width:100%;
  }
  header{
    display:flex;
    align-items:center;
    gap:12px;
    margin-bottom:16px;
  }
  .logo{
    width:44px;height:44px;
    border-radius:8px;
    background:var(--accent);
    display:flex;
    justify-content:center;
    align-items:center;
    font-weight:700;color:#052026;
  }
  h1{margin:0;font-size:20px;}
  .player{
    background:var(--card);
    border-radius:10px;
    overflow:hidden;
    box-shadow:0 10px 30px rgba(2,6,23,0.6);
    margin-bottom:12px;
  }
  video{
    width:100%;
    height:auto;
    display:block;
  }
  .controls{
    display:flex;
    justify-content:space-between;
    align-items:center;
    padding:10px;
    background:rgba(255,255,255,0.02);
    gap:8px;
  }
  .channels{
    display:flex;
    gap:8px;
    overflow-x:auto;
    margin-top:12px;
    padding-bottom:8px;
  }
  .channel-btn{
    background:transparent;
    border:1px solid rgba(255,255,255,0.1);
    padding:8px 12px;
    border-radius:8px;
    cursor:pointer;
    color:#fff;
    white-space:nowrap;
  }
  .channel-btn.active{
    background:var(--accent);
    border:none;
  }
  button{
    padding:6px 12px;
    background:var(--accent);
    border:none;
    color:#052026;
    font-weight:600;
    border-radius:6px;
    cursor:pointer;
  }
</style>
</head>
<body>

<div class="container">
  <header>
    <div class="logo">A</div>
    <div>
      <h1>Adel TV</h1>
      <div Adel movies </div>
    </div>
  </header>

  <div class="player">
    <video id="video" controls autoplay></video>
    <div class="controls">
      <span id="status">جاهز</span>
      <div style="display:flex;gap:8px">
        <button id="reload">إعادة تحميل</button>
        <button id="fullscreen">FullScreen</button>
      </div>
    </div>
  </div>

  <div class="channels" id="channels"></div>
</div>

<script>
const CHANNELS = [
  {name:"BEIN 1", url:"https://ab.footballii.ir/hls2/bein1_src.m3u8"},
  {name:"BEIN 2", url:"https://koraflix.s-cloudflare.com/live/250_.m3u8"},
  {name:"BEIN Xtra 1", url:"http://bk.xiptv.network:80/live/freelist/freelist568/11536.m3u8"},
  {name:"BEIN 4", url:"https://koraflix.s-cloudflare.com/live/250_.m3u8"},
];

const video = document.getElementById('video');
const status = document.getElementById('status');
const channelsContainer = document.getElementById('channels');
const reloadBtn = document.getElementById('reload');
const fullscreenBtn = document.getElementById('fullscreen');

let hls = null;
let currentURL = CHANNELS[0].url;

function loadStream(url){
  if(hls){
    hls.destroy();
    hls = null;
  }
  currentURL = url;
  status.textContent = "جاري الاتصال...";
  if(video.canPlayType('application/vnd.apple.mpegURL')){
    video.src = url;
    video.play();
    status.textContent = "مشغّل (native)";
  } else if(Hls.isSupported()){
    hls = new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, ()=>{
      video.play();
      status.textContent = "متصل وجاهز";
    });
    hls.on(Hls.Events.ERROR,(event,data)=>{
      status.textContent = "خطأ في البث";
      console.error(data);
    });
  } else {
    status.textContent = "المتصفح لا يدعم HLS";
  }
}

// إنشاء أزرار القنوات
CHANNELS.forEach((ch,i)=>{
  const btn = document.createElement('button');
  btn.textContent = ch.name;
  btn.className = 'channel-btn'+(i===0?' active':'');
  btn.onclick = ()=>{
    document.querySelectorAll('.channel-btn').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    loadStream(ch.url);
  };
  channelsContainer.appendChild(btn);
});

// أول بث عند التحميل
loadStream(currentURL);

// أزرار التحكم
reloadBtn.onclick = ()=>loadStream(currentURL);
fullscreenBtn.onclick = ()=>{
  if(video.requestFullscreen) video.requestFullscreen();
  else if(video.webkitRequestFullscreen) video.webkitRequestFullscreen();
  else if(video.msRequestFullscreen) video.msRequestFullscreen();
};
</script>

</body>
</html>
