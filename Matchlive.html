<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Adel TV – Coupe d'Arabie 2025</title>

<!-- Manifest pour PWA (optionnel) -->
<link rel="manifest" href="manifest.json" />

<style>
  body {
    margin: 0;
    background: #0a0a0a;
    font-family: Arial, sans-serif;
    color: white;
    overflow: hidden;
    transition: background-color 0.3s ease;
  }
  body.light-theme {
    background: #f0f0f0;
    color: #111;
  }
  header {
    background: #111;
    padding: 12px;
    text-align: center;
    font-size: 20px;
    font-weight: bold;
    border-bottom: 2px solid #222;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 15px;
  }
  body.light-theme header {
    background: #ddd;
    border-color: #aaa;
    color: #111;
  }
  header img {
    height: 40px;
    filter: drop-shadow(0 0 8px #ff0000);
    transition: filter 0.5s ease;
  }
  body.light-theme header img {
    filter: drop-shadow(0 0 10px #00b3ff);
  }

  .container {
    display: flex;
    height: calc(100vh - 55px);
  }
  body.light-theme .container {
    color: #111;
  }
  .sidebar {
    width: 260px;
    background: #111;
    border-right: 2px solid #222;
    overflow-y: auto;
    padding: 10px;
    transition: background-color 0.3s ease;
  }
  body.light-theme .sidebar {
    background: #eee;
    border-color: #aaa;
  }
  .channel {
    padding: 14px;
    margin-bottom: 10px;
    background: #1a1a1a;
    border-radius: 6px;
    cursor: pointer;
    transition: 0.2s;
    font-size: 16px;
    border-left: 4px solid transparent;
    user-select: none;
  }
  body.light-theme .channel {
    background: #fff;
    color: #111;
  }
  .channel:hover {
    background: #2a2a2a;
    border-left: 4px solid #00b3ff;
  }
  body.light-theme .channel:hover {
    background: #cce7ff;
    border-left: 4px solid #007acc;
  }

  .player-area {
    flex: 1;
    background: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    box-shadow: 0 0 30px #ff0000;
    transition: box-shadow 0.5s ease-in-out, background-color 0.3s ease;
  }
  body.light-theme .player-area {
    box-shadow: 0 0 30px #00b3ff;
    background: #222;
  }

  video {
    width: 100%;
    height: 100%;
    background: black;
    object-fit: contain;
  }

  .play-button {
    background-color: #f7f7f7;
    border: none;
    padding: 25px;
    border-radius: 50%;
    cursor: pointer;
    transform: scale(1.1);
    transition: background-color 0.3s ease;
  }
  .play-button:hover {
    background-color: #ddd;
  }

  .theme-toggle {
    position: fixed;
    bottom: 12px;
    right: 12px;
    background: #111;
    border: 1px solid #444;
    color: white;
    padding: 10px 15px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 14px;
    user-select: none;
    z-index: 9999;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  body.light-theme .theme-toggle {
    background: #eee;
    border-color: #aaa;
    color: #111;
  }

  @media (max-width: 768px) {
    header {
      font-size: 18px;
    }
    .container {
      flex-direction: column;
      height: auto;
    }
    .sidebar {
      width: 100%;
      height: auto;
      max-height: 250px;
    }
    .player-area {
      height: calc(100vh - 300px);
    }
    .channel {
      font-size: 18px;
      padding: 16px;
    }
    .play-button {
      padding: 30px;
    }
  }
</style>
</head>
<body>

<header>
  <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAB5klEQVR4nO2YzQ3CMAxFRXv//xV2Q9gkFDNq8goPSsxP5bqY6xwKdQqWgQHvlB4M8iMi8sXplYBkBGAQEQy+g3iM4AdAQMgxAb0lYMnAAYkBBo1q1nS05/v5fA2OedfNsXgq7MivLkff8e9WnFyEABk5qCqpl3L9dkB2hPckEIbkzQyZIUmzN6gHY9d3AJwDWSQKY7gJS0/hUh5Qx6rJI+gmwbT90jH5x5grAuDdNw4CXuXL6tF4NP5vZ3EYRAAI6xcftJhJHqcXK5btPXjP2E9N1b79v2+PdrDYxiNiHOdReRXA62tiO16lxeQCySC69fpY9RZANpykpJU5tgJvco3VT9Hps0GmYjyN95oRGE+v3nSfiZ/AAx0p6tdPAZZAUgAGBLsAECTT83t74VLHk4EKA0hgA2CkBw7vB6Nz2ecGHWD0n0Wk95NafUGqBcAdxLwAlAFH0T6OqBTgTLDACXA6Zh/p/rM3r9oX3QPqsoQCh02HMBUMzR8wGTchdyeoEJxzi1h+Y87qVfMJAwAAAABJRU5ErkJggg==" alt="Logo Adel TV" />
  Adel TV – Coupe d'Arabie 2025
</header>

<div class="container">
  <div class="sidebar" id="sidebar">
    <!-- Liste des chaînes chargée dynamiquement -->
  </div>

  <div class="player-area" id="player-area">
    <div id="xpola-player" style="display:none; text-align:center;">
      <button onclick="openXpola()" class="play-button" aria-label="Ouvrir XPOLA">
        <svg fill="#000000" height="80px" width="80px" viewBox="0 0 60 60" aria-hidden="true" focusable="false">
          <g>
            <path d="M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30 
                    c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15 
                    C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z"/>
            <path d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z 
                    M30,58C14.561,58,2,45.439,2,30 S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z"/>
          </g>
        </svg>
      </button>
    </div>
    <video id="video" controls autoplay></video>
  </div>
</div>

<button class="theme-toggle" id="theme-toggle" aria-label="Changer thème">Mode clair</button>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
  const channels = [
    {
      name: "beIN Sports 1 SD",
      url: "intent://XPOLA808eGRkYCo/P3lyfz58aX5oeWBkZj5zf30/fHlmdT8oIiAkJygpJickJig/SWdBdlZUSVxiRz8mJyckIz59I2UobGB8cWl1Yj1kaWB1LWd1cmB8cWl1Ymx4ZGRgc3F+cWJpLXZxfGN1bGJ/ZC12cXxjdWx0dWZ5c3Vif39kLXZxfGN1bHV9ZXxxZH9iLXZxfGN1bHV9dXxxZH9iLXZxfGN1bGR5ZHx1LVhU#Intent;scheme=xmtv;package=com.xpola.player;end"
    },
    {
      name: "beIN Sports 1 HD",
      url: "intent://XPOLA808eGRkYCo/P3lyfz58aX5oeWBkZj5zf30/fHlmdT8oIiAkJygpJickJig/SWdBdlZUSVxiRz8mJyckIz59I2UobGB8cWl1Yj1kaWB1LWd1cmB8cWl1Ymx4ZGRgc3F+cWJpLXZxfGN1bGJ/ZC12cXxjdWx0dWZ5c3Vif39kLXZxfGN1bHV9ZXxxZH9iLXZxfGN1bHV9dXxxZH9iLXZxfGN1bGR5ZHx1LVhU#Intent;scheme=xmtv;package=com.xpola.player;end"
    },
    {
      name: "beIN Sports 2 HD",
      url: "intent://XPOLA808eGRkYCo/P3lyfz58aX5oeWBkZj5zf30/fHlmdT8oIiAkJygpJickJig/SWdBdlZUSVxiRz8mJyckIz59I2UobGB8cWl1Yj1kaWB1LWd1cmB8cWl1Ymx4ZGRgc3F+cWJpLXZxfGN1bGJ/ZC12cXxjdWx0dWZ5c3Vif39kLXZxfGN1bHV9ZXxxZH9iLXZxfGN1bHV9dXxxZH9iLXZxfGN1bGR5ZHx1LVhU#Intent;scheme=xmtv;package=com.xpola.player;end"
    },
    {
      name: "beIN Sports 3 HD",
      url: "intent://XPOLA808eGRkYCo/P3lyfz58aX5oeWBkZj5zf30/fHlmdT8oIiAkJygpJickJig/SWdBdlZUSVxiRz8mJyckIz59I2UobGB8cWl1Yj1kaWB1LWd1cmB8cWl1Ymx4ZGRgc3F+cWJpLXZxfGN1bGJ/ZC12cXxjdWx0dWZ5c3Vif39kLXZxfGN1bHV9ZXxxZH9iLXZxfGN1bHV9dXxxZH9iLXZxfGN1bGR5ZHx1LVhU#Intent;scheme=xmtv;package=com.xpola.player;end"
    },
    {
      name: "beIN Sports Premium 1",
      url: "intent://XPOLA808eGRkYCo/P3lyfz58aX5oeWBkZj5zf30/fHlmdT8oIiAkJygpJickJig/SWdBdlZUSVxiRz8mJyckIz59I2UobGB8cWl1Yj1kaWB1LWd1cmB8cWl1Ymx4ZGRgc3F+cWJpLXZxfGN1bGJ/ZC12cXxjdWx0dWZ5c3Vif39kLXZxfGN1bHV9ZXxxZH9iLXZxfGN1bHV9dXxxZH9iLXZxfGN1bGR5ZHx1LVhU#Intent;scheme=xmtv;package=com.xpola.player;end"
    },
    {
      name: "beIN Sports 4K",
      url: "intent://XPOLA808eGRkYCo/P3lyfz58aX5oeWBkZj5zf30/fHlmdT8oIiAkJygpJickJig/SWdBdlZUSVxiRz8mJyMjKD59I2UobHhkZGBzcX5xYmktdnF8Y3VsYn9kLXZxfGN1bHR1ZnlzdWJ/f2QtdnF8Y3VsdX1lfHFkf2ItdnF8Y3VsdX11fHFkf2ItdnF8Y3U=#Intent;scheme=xmtv;package=com.xpola.player;end"
    }
  ];

  const sidebar = document.getElementById('sidebar');
  const video = document.getElementById('video');
  const xpolaPlayer = document.getElementById('xpola-player');
  const playerArea = document.getElementById('player-area');
  const themeToggle = document.getElementById('theme-toggle');

  function loadChannels() {
    sidebar.innerHTML = '';
    channels.forEach(channel => {
      const div = document.createElement('div');
      div.className = 'channel';
      div.textContent = channel.name;
      div.onclick = () => playStream(channel.url);
      sidebar.appendChild(div);
    });
  }

  function playStream(url) {
    if (url.startsWith('intent://')) {
      video.style.display = 'none';
      xpolaPlayer.style.display = 'block';
      xpolaPlayer.dataset.url = url;
      playerArea.style.boxShadow = '0 0 30px #ff0000';
    } else {
      xpolaPlayer.style.display = 'none';
      video.style.display = 'block';
      playerArea.style.boxShadow = '0 0 30px #00b3ff';
      if (window.Hls && Hls.isSupported()) {
        if (window.hls) {
          window.hls.destroy();
        }
        window.hls = new Hls();
        window.hls.loadSource(url);
        window.hls.attachMedia(video);
        video.play();
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = url;
        video.play();
      }
    }
  }

  function openXpola() {
    const url = xpolaPlayer.dataset.url;
    if (url) {
      location.href = url;
    }
  }

  themeToggle.onclick = () => {
    if (document.body.classList.contains('light-theme')) {
      document.body.classList.remove('light-theme');
      themeToggle.textContent = 'Mode clair';
      playerArea.style.boxShadow = '0 0 30px #ff0000';
    } else {
      document.body.classList.add('light-theme');
      themeToggle.textContent = 'Mode sombre';
      playerArea.style.boxShadow = '0 0 30px #00b3ff';
    }
  };

  loadChannels();
  playStream("https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8");
</script>

</body>
</html>
